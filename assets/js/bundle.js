!function(){const e={videoFile:document.getElementById("video-file"),videoIcon:document.getElementById("video-icon"),initAlbum:function(){document.querySelectorAll(".album__card").forEach(e=>{const t=e.querySelectorAll("a");e.querySelector(".album__description").innerText=t.length+" photos"}),new Swiper(".album__container",{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",loop:!0,spaceBetween:32,coverflowEffect:{rotate:0}})},handleVideo:function(){e.videoFile.paused?(e.videoFile.play(),e.videoIcon.classList.add("ri-pause-line"),e.videoIcon.classList.remove("ri-play-line")):(e.videoFile.pause(),e.videoIcon.classList.remove("ri-pause-line"),e.videoIcon.classList.add("ri-play-line"))},handleVideoEnding:function(){e.videoIcon.classList.remove("ri-pause-line"),e.videoIcon.classList.add("ri-play-line")}};var t=e;const n={emailjs_user:"user_I1HWuX9oE076hNrKEuHTK",emailjs_service:"service_ruzv3v1",emailjs_template:"template_y6oarwo",sendMail(e){emailjs.send(n.emailjs_service,n.emailjs_template,{firstName:e.firstName,lastName:e.lastName,email:e.email,tel:e.tel,msg:e.msg?e.msg:"Aucune information compl\xe9mentaire."})}};var o=n;const l={formContainer:document.getElementById("container__form"),firstName:document.getElementById("user__firstname"),lastName:document.getElementById("user__lastname"),email:document.getElementById("user__email"),tel:document.getElementById("user__tel"),msg:document.getElementById("msg"),loader:document.getElementById("loader"),inputs:document.querySelectorAll("input, textarea"),handleFormSubmit:function(e){e.preventDefault(),l.checkInputs()},handleDisplayForm:function(e){0===e?l.hideForm():1===e&&l.showForm()},handleInputChange:function(e){e.value||(e.parentElement.className="form__control")},handleMinAndMaxDate:function(e){const t=document.getElementById("form");e.target.setAttribute("min",l.getLimitDate(0)),e.target.setAttribute("max",l.getLimitDate(2)),t.elements.todate.setAttribute("min",t.elements.fromdate.value),t.elements.todate.value<t.elements.fromdate.value&&(t.elements.todate.value=t.elements.fromdate.value)},getLimitDate:function(e){const t=new Date,n=t.getDate(),o=t.getMonth()+1;return n<10&&(n="0"+n),o<10&&(o="0"+o),t.getFullYear()+e+"-"+o+"-"+n},hideForm:function(){l.clearInputsText(),l.formContainer.style.display="none",l.formContainer.classList.remove("container__form")},showForm:function(){const e=document.querySelectorAll(".timepicker");for(date of(l.formContainer.style.display="flex",l.formContainer.classList.add("container__form"),e))date.addEventListener("click",l.handleMinAndMaxDate),date.addEventListener("input",l.handleMinAndMaxDate)},checkInputs:function(){const e=l.firstName.value.trim(),t=l.lastName.value.trim(),n=l.email.value.trim(),o=l.tel.value.trim(),s="Le champs ne doit pas \xeatre vide";e?l.setSuccessFor(l.firstName):l.setErrorFor(l.firstName,s),t?l.setSuccessFor(l.lastName):l.setErrorFor(l.lastName,s),n?l.setSuccessFor(l.email):l.setErrorFor(l.email,s),o?l.setSuccessFor(l.tel):l.setErrorFor(l.tel,s)},setErrorFor:function(e,t){const n=e.parentElement;n.querySelector("small").innerText=t,n.className="form__control error"},setSuccessFor:function(e){e.parentElement.className="form__control success",l.sendEmail()},sendEmail:async function(){l.loader.style.display="flex";const e={firstName:l.firstName.value,lastName:l.lastName.value,email:l.email.value,tel:l.tel.value,msg:l.msg.value};try{await o.sendMail(e),l.loader.style.display="none",l.makeSuccessModal(),l.clearInputsText(),console.log("SUCCESS!")}catch(t){l.loader.style.display="none",l.makeErrorModal(),console.log("FAILED...",t)}},makeSuccessModal:function(){swal({title:"Demande Envoy\xe9e avec succ\xe8s !",text:"Selon mes disponibilit\xe9s, je la confirmerai par mail.",icon:"success",button:"OK"})},makeErrorModal:function(){swal({title:"Oups...",text:"Echec de l'envoi de la demande",icon:"error",button:"OK"})},clearInputsText:function(){l.inputs.forEach(e=>{e.value="",e.parentElement.className="form__control"})}};var s=l;const i={themeButton:document.getElementById("theme-button"),handleTheme:function(){document.body.classList.toggle("dark-theme"),i.themeButton.classList.toggle("ri-sun-line"),localStorage.setItem("selected-theme",getCurrentTheme()),localStorage.setItem("selected-icon",getCurrentIcon())},getCurrentTheme:function(){return document.body.classList.contains(darkTheme)?"dark":"light"},getCurrentIcon:function(){return i.themeButton.classList.contains(iconTheme)?"ri-moon-line":"ri-sun-line"},handleLinkClick:function(){document.getElementById("nav-menu").classList.remove("show-menu")},handleHeaderScroll:function(){const e=document.getElementById("header"),t=document.querySelector(".nav__logo-fish");scrollY>=100?e.classList.add("scroll-header"):e.classList.remove("scroll-header"),scrollY>=100?t.classList.add("nav__logo-fish-rotate"):t.classList.remove("nav__logo-fish-rotate")}};var a=i;var r={handleDescriptionDisplay:function(e,t){t.stopPropagation(),0===e?document.getElementById("lieux__description").classList.toggle("description"):1===e&&document.getElementById("lieux__description").classList.remove("description")}};const c={shelterPictures:document.querySelectorAll(".photo__g\xeete"),handlePicturesDisplay:function(e,t){switch(t.stopPropagation(),e){case 0:c.toggleShelter1();break;case 1:c.toggleShelter2();break;case 2:c.hideShelters();break;default:console.log(`Sorry, we are out of ${e}.`)}},toggleShelter1:function(){c.shelterPictures[1].classList.toggle("g\xeete2"),c.shelterPictures[0].classList.remove("g\xeete1")},toggleShelter2:function(){c.shelterPictures[0].classList.toggle("g\xeete1"),c.shelterPictures[1].classList.remove("g\xeete2")},hideShelters:function(){c.shelterPictures[0].classList.remove("g\xeete1"),c.shelterPictures[1].classList.remove("g\xeete2")}};var d=c;const m={loaderDOM:document.getElementById("loader-dom"),init:function(){m.initTheme(),t.initAlbum(),m.initIntersectionObserver(),m.initEmailjs(),m.addEventActions()},initDOMLoader:function(e){e<=0?(a.handleHeaderScroll(),m.loaderDOM.style.display="none"):(m.loaderDOM.style.opacity=e,window.setTimeout(()=>{m.initDOMLoader(e-.05)},50))},initTheme:function(){const e=localStorage.getItem("selected-theme"),t=localStorage.getItem("selected-icon"),n=document.getElementById("theme-button");e&&(document.body.classList["dark"===e?"add":"remove"]("dark-theme"),n.classList["ri-moon-line"===t?"add":"remove"]("ri-sun-line"))},initIntersectionObserver:function(){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.classList.remove("reveal"):e.target.classList.add("reveal")})},{root:null,rootMargin:"-10% 0px",treshold:0});document.querySelectorAll(".reveal, .reveal-box").forEach(t=>{e.observe(t)})},initEmailjs:function(){emailjs.init(o.emailjs_user)},addEventActions:function(){window.addEventListener("load",()=>m.initDOMLoader(1)),window.addEventListener("scroll",()=>{m.handleSomeElementsDisplay(),m.handleScrollUpButton(),m.handleActiveNavLink(),a.handleHeaderScroll()}),document.getElementById("nav-toggle").addEventListener("click",()=>document.getElementById("nav-menu").classList.add("show-menu")),document.getElementById("nav-close").addEventListener("click",()=>document.getElementById("nav-menu").classList.remove("show-menu")),document.querySelectorAll(".nav__link").forEach(e=>e.addEventListener("click",a.handleLinkClick)),document.getElementById("theme-button").addEventListener("click",a.handleTheme),document.getElementById("marker").addEventListener("click",r.handleDescriptionDisplay.bind(null,0)),document.querySelector(".lieux__banni\xe8re").addEventListener("click",r.handleDescriptionDisplay.bind(null,1));const e=document.querySelectorAll(".panneau__text");e[0].addEventListener("click",d.handlePicturesDisplay.bind(null,0)),e[1].addEventListener("click",d.handlePicturesDisplay.bind(null,1)),document.querySelector(".g\xeetes__container").addEventListener("click",d.handlePicturesDisplay.bind(null,2));const n=document.querySelectorAll(".form__button");n[0].addEventListener("click",s.handleDisplayForm.bind(null,0)),n[1].addEventListener("click",s.handleDisplayForm.bind(null,1)),document.getElementById("form").addEventListener("submit",s.handleFormSubmit),document.querySelectorAll("input, textarea").forEach(e=>e.addEventListener("input",()=>s.handleInputChange(e))),document.getElementById("video-button").addEventListener("click",t.handleVideo),document.getElementById("video-file").addEventListener("ended",t.handleVideoEnding)},handleScrollUpButton:function(){const e=document.getElementById("scroll-up");window.scrollY>=560?e.classList.add("show-scroll"):e.classList.remove("show-scroll")},handleActiveNavLink:function(){const e=document.querySelectorAll("section[id]"),t=window.pageYOffset;e.forEach(e=>{const n=e.offsetHeight,o=e.offsetTop-50;sectionId=e.getAttribute("id"),t>o&&t<=o+n?document.querySelector(`.nav__menu a[href*="${sectionId}"]`).classList.add("active-link"):document.querySelector(`.nav__menu a[href*="${sectionId}"]`).classList.remove("active-link")})},handleSomeElementsDisplay:function(){const e=document.querySelectorAll("#cadeau, #g\xeetes");(window.scrollY<e[1].offsetTop-600||window.scrollY>e[1].offsetHeight+e[1].offsetTop)&&d.hideShelters(),(window.scrollY<e[0].offsetTop-600||window.scrollY>e[0].offsetHeight+e[0].offsetTop)&&s.hideForm()}};window.addEventListener("DOMContentLoaded",m.init)}();